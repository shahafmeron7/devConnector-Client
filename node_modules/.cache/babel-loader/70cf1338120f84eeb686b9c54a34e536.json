{"ast":null,"code":"import React,{Fragment,useEffect}from'react';import{Link,useParams}from'react-router-dom';import{connect}from'react-redux';import Spinner from'../layout/Spinner';import{getPost}from'../../actions/post';import PostItem from'../posts/PostItem';import CommentForm from'./CommentForm';import CommentItem from'./CommentItem';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Post=function Post(_ref){var getPost=_ref.getPost,_ref$post=_ref.post,post=_ref$post.post,loading=_ref$post.loading;var _useParams=useParams(),id=_useParams.id;useEffect(function(){getPost(id);},[getPost,id]);return loading||post===null?/*#__PURE__*/_jsx(Spinner,{}):/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/posts\",className:\"btn\",children:\"Back To Posts\"}),/*#__PURE__*/_jsx(PostItem,{post:post,showActions:false}),/*#__PURE__*/_jsx(CommentForm,{postId:post._id}),/*#__PURE__*/_jsx(\"div\",{className:\"comments\",children:post.comments.map(function(comment){return/*#__PURE__*/_jsx(CommentItem,{comment:comment,postId:post._id},comment._id);})})]});};var mapStateToProps=function mapStateToProps(state){return{post:state.post};};export default connect(mapStateToProps,{getPost:getPost})(Post);","map":{"version":3,"names":["React","Fragment","useEffect","Link","useParams","connect","Spinner","getPost","PostItem","CommentForm","CommentItem","Post","post","loading","id","_id","comments","map","comment","mapStateToProps","state"],"sources":["/Users/shahafm/Desktop/devConnector/client/src/components/post/Post.js"],"sourcesContent":["import React, { Fragment, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, useParams } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Spinner from '../layout/Spinner';\nimport { getPost } from '../../actions/post';\nimport PostItem from '../posts/PostItem';\nimport CommentForm from './CommentForm';\nimport CommentItem from './CommentItem';\nconst Post = ({ getPost, post: { post, loading } }) => {\n  const { id } = useParams();\n  useEffect(() => {\n    getPost(id);\n  }, [getPost, id]);\n\n  return loading || post === null ? (\n    <Spinner />\n  ) : (\n    <Fragment>\n      <Link to=\"/posts\" className=\"btn\">\n        Back To Posts\n      </Link>\n      <PostItem post={post} showActions={false} />\n      <CommentForm postId={post._id} />\n      <div className=\"comments\">\n        {post.comments.map((comment) => (\n          <CommentItem key={comment._id} comment={comment} postId={post._id} />\n        ))}\n      </div>\n    </Fragment>\n  );\n};\n\nPost.propTypes = {\n  getPost: PropTypes.func.isRequired,\n  post: PropTypes.object.isRequired,\n};\nconst mapStateToProps = (state) => ({\n  post: state.post,\n});\nexport default connect(mapStateToProps, { getPost })(Post);\n"],"mappings":"AAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAElD,OAASC,IAAI,CAAEC,SAAS,KAAQ,kBAAkB,CAClD,OAASC,OAAO,KAAQ,aAAa,CACrC,MAAOC,QAAO,KAAM,mBAAmB,CACvC,OAASC,OAAO,KAAQ,oBAAoB,CAC5C,MAAOC,SAAQ,KAAM,mBAAmB,CACxC,MAAOC,YAAW,KAAM,eAAe,CACvC,MAAOC,YAAW,KAAM,eAAe,CAAC,wFACxC,GAAMC,KAAI,CAAG,QAAPA,KAAI,MAA6C,IAAvCJ,QAAO,MAAPA,OAAO,gBAAEK,IAAI,CAAIA,IAAI,WAAJA,IAAI,CAAEC,OAAO,WAAPA,OAAO,CAC5C,eAAeT,SAAS,EAAE,CAAlBU,EAAE,YAAFA,EAAE,CACVZ,SAAS,CAAC,UAAM,CACdK,OAAO,CAACO,EAAE,CAAC,CACb,CAAC,CAAE,CAACP,OAAO,CAAEO,EAAE,CAAC,CAAC,CAEjB,MAAOD,QAAO,EAAID,IAAI,GAAK,IAAI,cAC7B,KAAC,OAAO,IAAG,cAEX,MAAC,QAAQ,yBACP,KAAC,IAAI,EAAC,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,KAAK,UAAC,eAElC,EAAO,cACP,KAAC,QAAQ,EAAC,IAAI,CAAEA,IAAK,CAAC,WAAW,CAAE,KAAM,EAAG,cAC5C,KAAC,WAAW,EAAC,MAAM,CAAEA,IAAI,CAACG,GAAI,EAAG,cACjC,YAAK,SAAS,CAAC,UAAU,UACtBH,IAAI,CAACI,QAAQ,CAACC,GAAG,CAAC,SAACC,OAAO,qBACzB,KAAC,WAAW,EAAmB,OAAO,CAAEA,OAAQ,CAAC,MAAM,CAAEN,IAAI,CAACG,GAAI,EAAhDG,OAAO,CAACH,GAAG,CAAwC,EACtE,CAAC,EACE,GAET,CACH,CAAC,CAMD,GAAMI,gBAAe,CAAG,QAAlBA,gBAAe,CAAIC,KAAK,QAAM,CAClCR,IAAI,CAAEQ,KAAK,CAACR,IACd,CAAC,EAAC,CACF,cAAeP,QAAO,CAACc,eAAe,CAAE,CAAEZ,OAAO,CAAPA,OAAQ,CAAC,CAAC,CAACI,IAAI,CAAC"},"metadata":{},"sourceType":"module"}