{"ast":null,"code":"import React,{Fragment}from'react';import{Link}from'react-router-dom';import Moment from'react-moment';import{connect}from'react-redux';import{addLike,removeLike,deletePost}from'../../actions/post';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PostItem=function PostItem(_ref){var removeLike=_ref.removeLike,addLike=_ref.addLike,deletePost=_ref.deletePost,_ref$post=_ref.post,_id=_ref$post._id,name=_ref$post.name,avatar=_ref$post.avatar,text=_ref$post.text,user=_ref$post.user,likes=_ref$post.likes,comments=_ref$post.comments,date=_ref$post.date,auth=_ref.auth,showActions=_ref.showActions;return/*#__PURE__*/_jsxs(\"div\",{className:\"post bg-white p-1 my-1\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Link,{to:\"/profile/\".concat(user),children:[/*#__PURE__*/_jsx(\"img\",{className:\"round-img\",src:avatar,alt:\"\"}),/*#__PURE__*/_jsx(\"h4\",{children:name})]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"my-1\",children:text}),/*#__PURE__*/_jsxs(\"p\",{className:\"post-date\",children:[\"Posted on \",/*#__PURE__*/_jsx(Moment,{format:\"YYYY/MM/DD\",children:date})]}),showActions&&/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(e){return addLike(_id);},type:\"button\",className:\"btn btn-light\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-thumbs-up\"}),' ',/*#__PURE__*/_jsx(\"span\",{children:likes.length>0&&/*#__PURE__*/_jsx(\"span\",{children:likes.length})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){return removeLike(_id);},type:\"button\",className:\"btn btn-light\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-thumbs-down\"})}),/*#__PURE__*/_jsxs(Link,{to:\"/posts/\".concat(_id),className:\"btn btn-primary\",children:[\"Discussion\",' ',comments.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"comment-count\",children:comments.length})]}),!auth.loading&&user===auth.user._id&&/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){return deletePost(_id);},type:\"button\",className:\"btn btn-danger\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\"})})]})]})]});};PostItem.defaultProps={showActions:true};var mapStateToProps=function mapStateToProps(state){return{auth:state.auth};};export default connect(mapStateToProps,{removeLike:removeLike,deletePost:deletePost,addLike:addLike})(PostItem);","map":{"version":3,"names":["React","Fragment","Link","Moment","connect","addLike","removeLike","deletePost","PostItem","post","_id","name","avatar","text","user","likes","comments","date","auth","showActions","e","length","loading","defaultProps","mapStateToProps","state"],"sources":["/Users/shahafm/Desktop/devConnector/client/src/components/posts/PostItem.js"],"sourcesContent":["import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport Moment from 'react-moment';\nimport { connect } from 'react-redux';\nimport { addLike, removeLike, deletePost } from '../../actions/post';\nconst PostItem = ({\n  removeLike,\n  addLike,\n  deletePost,\n  post: { _id, name, avatar, text, user, likes, comments, date },\n  auth,\n  showActions,\n}) => (\n  <div className=\"post bg-white p-1 my-1\">\n    <div>\n      <Link to={`/profile/${user}`}>\n        <img className=\"round-img\" src={avatar} alt=\"\" />\n        <h4>{name}</h4>\n      </Link>\n    </div>\n    <div>\n      <p className=\"my-1\">{text}</p>\n      <p className=\"post-date\">\n        Posted on <Moment format=\"YYYY/MM/DD\">{date}</Moment>\n      </p>\n\n      {showActions && (\n        <Fragment>\n          <button\n            onClick={(e) => addLike(_id)}\n            type=\"button\"\n            className=\"btn btn-light\"\n          >\n            <i className=\"fas fa-thumbs-up\"></i>{' '}\n            <span>{likes.length > 0 && <span>{likes.length}</span>}</span>\n          </button>\n          <button\n            onClick={(e) => removeLike(_id)}\n            type=\"button\"\n            className=\"btn btn-light\"\n          >\n            <i className=\"fas fa-thumbs-down\"></i>\n          </button>\n          <Link to={`/posts/${_id}`} className=\"btn btn-primary\">\n            Discussion{' '}\n            {comments.length > 0 && (\n              <span className=\"comment-count\">{comments.length}</span>\n            )}\n          </Link>\n          {!auth.loading && user === auth.user._id && (\n            <button\n              onClick={(e) => deletePost(_id)}\n              type=\"button\"\n              className=\"btn btn-danger\"\n            >\n              <i className=\"fas fa-times\"></i>\n            </button>\n          )}\n        </Fragment>\n      )}\n    </div>\n  </div>\n);\n\nPostItem.defaultProps = {\n  showActions: true,\n};\n\nPostItem.propTypes = {\n  post: PropTypes.object.isRequired,\n  auth: PropTypes.object.isRequired,\n  deletePost: PropTypes.func.isRequired,\n  removeLike: PropTypes.func.isRequired,\n  addLike: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  auth: state.auth,\n});\nexport default connect(mapStateToProps, { removeLike, deletePost, addLike })(\n  PostItem\n);\n"],"mappings":"AAAA,MAAOA,MAAK,EAAIC,QAAQ,KAAQ,OAAO,CAEvC,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAOC,OAAM,KAAM,cAAc,CACjC,OAASC,OAAO,KAAQ,aAAa,CACrC,OAASC,OAAO,CAAEC,UAAU,CAAEC,UAAU,KAAQ,oBAAoB,CAAC,wFACrE,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,UACZF,WAAU,MAAVA,UAAU,CACVD,OAAO,MAAPA,OAAO,CACPE,UAAU,MAAVA,UAAU,gBACVE,IAAI,CAAIC,GAAG,WAAHA,GAAG,CAAEC,IAAI,WAAJA,IAAI,CAAEC,MAAM,WAANA,MAAM,CAAEC,IAAI,WAAJA,IAAI,CAAEC,IAAI,WAAJA,IAAI,CAAEC,KAAK,WAALA,KAAK,CAAEC,QAAQ,WAARA,QAAQ,CAAEC,IAAI,WAAJA,IAAI,CAC5DC,IAAI,MAAJA,IAAI,CACJC,WAAW,MAAXA,WAAW,oBAEX,aAAK,SAAS,CAAC,wBAAwB,wBACrC,kCACE,MAAC,IAAI,EAAC,EAAE,oBAAcL,IAAI,CAAG,wBAC3B,YAAK,SAAS,CAAC,WAAW,CAAC,GAAG,CAAEF,MAAO,CAAC,GAAG,CAAC,EAAE,EAAG,cACjD,oBAAKD,IAAI,EAAM,GACV,EACH,cACN,oCACE,UAAG,SAAS,CAAC,MAAM,UAAEE,IAAI,EAAK,cAC9B,WAAG,SAAS,CAAC,WAAW,WAAC,YACb,mBAAC,MAAM,EAAC,MAAM,CAAC,YAAY,UAAEI,IAAI,EAAU,GACnD,CAEHE,WAAW,eACV,MAAC,QAAQ,yBACP,gBACE,OAAO,CAAE,iBAACC,CAAC,QAAKf,QAAO,CAACK,GAAG,CAAC,EAAC,CAC7B,IAAI,CAAC,QAAQ,CACb,SAAS,CAAC,eAAe,wBAEzB,UAAG,SAAS,CAAC,kBAAkB,EAAK,CAAC,GAAG,cACxC,sBAAOK,KAAK,CAACM,MAAM,CAAG,CAAC,eAAI,sBAAON,KAAK,CAACM,MAAM,EAAQ,EAAQ,GACvD,cACT,eACE,OAAO,CAAE,iBAACD,CAAC,QAAKd,WAAU,CAACI,GAAG,CAAC,EAAC,CAChC,IAAI,CAAC,QAAQ,CACb,SAAS,CAAC,eAAe,uBAEzB,UAAG,SAAS,CAAC,oBAAoB,EAAK,EAC/B,cACT,MAAC,IAAI,EAAC,EAAE,kBAAYA,GAAG,CAAG,CAAC,SAAS,CAAC,iBAAiB,WAAC,YAC3C,CAAC,GAAG,CACbM,QAAQ,CAACK,MAAM,CAAG,CAAC,eAClB,aAAM,SAAS,CAAC,eAAe,UAAEL,QAAQ,CAACK,MAAM,EACjD,GACI,CACN,CAACH,IAAI,CAACI,OAAO,EAAIR,IAAI,GAAKI,IAAI,CAACJ,IAAI,CAACJ,GAAG,eACtC,eACE,OAAO,CAAE,iBAACU,CAAC,QAAKb,WAAU,CAACG,GAAG,CAAC,EAAC,CAChC,IAAI,CAAC,QAAQ,CACb,SAAS,CAAC,gBAAgB,uBAE1B,UAAG,SAAS,CAAC,cAAc,EAAK,EAEnC,GAEJ,GACG,GACF,EACP,CAEDF,QAAQ,CAACe,YAAY,CAAG,CACtBJ,WAAW,CAAE,IACf,CAAC,CAUD,GAAMK,gBAAe,CAAG,QAAlBA,gBAAe,CAAIC,KAAK,QAAM,CAClCP,IAAI,CAAEO,KAAK,CAACP,IACd,CAAC,EAAC,CACF,cAAed,QAAO,CAACoB,eAAe,CAAE,CAAElB,UAAU,CAAVA,UAAU,CAAEC,UAAU,CAAVA,UAAU,CAAEF,OAAO,CAAPA,OAAQ,CAAC,CAAC,CAC1EG,QAAQ,CACT"},"metadata":{},"sourceType":"module"}