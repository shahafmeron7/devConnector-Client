{"ast":null,"code":"import _toConsumableArray from\"/Users/shahafm/Desktop/devConnector/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/shahafm/Desktop/devConnector/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{ADD_POST,DELETE_POST,GET_POSTS,POST_ERROR,GET_POST,UPDATE_LIKES,ADD_COMMENT,REMOVE_COMMENT}from'../actions/types';var initialState={posts:[],post:null,loading:true,error:{}};function postReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;var type=action.type,payload=action.payload;switch(type){case GET_POSTS:return _objectSpread(_objectSpread({},state),{},{posts:payload,loading:false});case POST_ERROR:return _objectSpread(_objectSpread({},state),{},{error:payload,loading:false});case UPDATE_LIKES:return _objectSpread(_objectSpread({},state),{},{posts:state.posts.map(function(post){return post._id===payload.id?_objectSpread(_objectSpread({},post),{},{likes:payload.likes}):post;}),loading:false});case DELETE_POST:return _objectSpread(_objectSpread({},state),{},{posts:state.posts.filter(function(post){return post._id!==payload;}),loading:false});case ADD_POST:return _objectSpread(_objectSpread({},state),{},{posts:[payload].concat(_toConsumableArray(state.posts)),loading:false});case GET_POST:return _objectSpread(_objectSpread({},state),{},{post:payload,loading:false});case ADD_COMMENT:return _objectSpread(_objectSpread({},state),{},{post:_objectSpread(_objectSpread({},state.post),{},{comments:payload}),loading:false});case REMOVE_COMMENT:return _objectSpread(_objectSpread({},state),{},{post:_objectSpread(_objectSpread({},state.post),{},{comments:state.post.comments.filter(function(comment){return comment._id!==payload;})}),loading:false});default:return state;}}export default postReducer;","map":{"version":3,"names":["ADD_POST","DELETE_POST","GET_POSTS","POST_ERROR","GET_POST","UPDATE_LIKES","ADD_COMMENT","REMOVE_COMMENT","initialState","posts","post","loading","error","postReducer","state","action","type","payload","map","_id","id","likes","filter","comments","comment"],"sources":["/Users/shahafm/Desktop/devConnector/client/src/reducers/post.js"],"sourcesContent":["import {\n  ADD_POST,\n  DELETE_POST,\n  GET_POSTS,\n  POST_ERROR,\n  GET_POST,\n  UPDATE_LIKES,\n  ADD_COMMENT,\n  REMOVE_COMMENT,\n} from '../actions/types';\nconst initialState = {\n  posts: [],\n  post: null,\n  loading: true,\n  error: {},\n};\n\nfunction postReducer(state = initialState, action) {\n  const { type, payload } = action;\n\n  switch (type) {\n    case GET_POSTS:\n      return {\n        ...state,\n        posts: payload,\n        loading: false,\n      };\n    case POST_ERROR:\n      return {\n        ...state,\n        error: payload,\n        loading: false,\n      };\n    case UPDATE_LIKES:\n      return {\n        ...state,\n        posts: state.posts.map((post) =>\n          post._id === payload.id ? { ...post, likes: payload.likes } : post\n        ),\n        loading: false,\n      };\n    case DELETE_POST:\n      return {\n        ...state,\n        posts: state.posts.filter((post) => post._id !== payload),\n        loading: false,\n      };\n    case ADD_POST:\n      return {\n        ...state,\n        posts: [payload, ...state.posts],\n        loading: false,\n      };\n    case GET_POST:\n      return {\n        ...state,\n        post: payload,\n        loading: false,\n      };\n    case ADD_COMMENT:\n      return {\n        ...state,\n        post: { ...state.post, comments: payload },\n        loading: false,\n      };\n    case REMOVE_COMMENT:\n      return {\n        ...state,\n        post: {\n          ...state.post,\n          comments: state.post.comments.filter(\n            (comment) => comment._id !== payload\n          ),\n        },\n        loading: false,\n      };\n    default:\n      return state;\n  }\n}\nexport default postReducer;\n"],"mappings":"uQAAA,OACEA,QAAQ,CACRC,WAAW,CACXC,SAAS,CACTC,UAAU,CACVC,QAAQ,CACRC,YAAY,CACZC,WAAW,CACXC,cAAc,KACT,kBAAkB,CACzB,GAAMC,aAAY,CAAG,CACnBC,KAAK,CAAE,EAAE,CACTC,IAAI,CAAE,IAAI,CACVC,OAAO,CAAE,IAAI,CACbC,KAAK,CAAE,CAAC,CACV,CAAC,CAED,QAASC,YAAW,EAA+B,IAA9BC,MAAK,2DAAGN,YAAY,IAAEO,OAAM,2CAC/C,GAAQC,KAAI,CAAcD,MAAM,CAAxBC,IAAI,CAAEC,OAAO,CAAKF,MAAM,CAAlBE,OAAO,CAErB,OAAQD,IAAI,EACV,IAAKd,UAAS,CACZ,sCACKY,KAAK,MACRL,KAAK,CAAEQ,OAAO,CACdN,OAAO,CAAE,KAAK,GAElB,IAAKR,WAAU,CACb,sCACKW,KAAK,MACRF,KAAK,CAAEK,OAAO,CACdN,OAAO,CAAE,KAAK,GAElB,IAAKN,aAAY,CACf,sCACKS,KAAK,MACRL,KAAK,CAAEK,KAAK,CAACL,KAAK,CAACS,GAAG,CAAC,SAACR,IAAI,QAC1BA,KAAI,CAACS,GAAG,GAAKF,OAAO,CAACG,EAAE,gCAAQV,IAAI,MAAEW,KAAK,CAAEJ,OAAO,CAACI,KAAK,GAAKX,IAAI,GACnE,CACDC,OAAO,CAAE,KAAK,GAElB,IAAKV,YAAW,CACd,sCACKa,KAAK,MACRL,KAAK,CAAEK,KAAK,CAACL,KAAK,CAACa,MAAM,CAAC,SAACZ,IAAI,QAAKA,KAAI,CAACS,GAAG,GAAKF,OAAO,GAAC,CACzDN,OAAO,CAAE,KAAK,GAElB,IAAKX,SAAQ,CACX,sCACKc,KAAK,MACRL,KAAK,EAAGQ,OAAO,4BAAKH,KAAK,CAACL,KAAK,EAAC,CAChCE,OAAO,CAAE,KAAK,GAElB,IAAKP,SAAQ,CACX,sCACKU,KAAK,MACRJ,IAAI,CAAEO,OAAO,CACbN,OAAO,CAAE,KAAK,GAElB,IAAKL,YAAW,CACd,sCACKQ,KAAK,MACRJ,IAAI,gCAAOI,KAAK,CAACJ,IAAI,MAAEa,QAAQ,CAAEN,OAAO,EAAE,CAC1CN,OAAO,CAAE,KAAK,GAElB,IAAKJ,eAAc,CACjB,sCACKO,KAAK,MACRJ,IAAI,gCACCI,KAAK,CAACJ,IAAI,MACba,QAAQ,CAAET,KAAK,CAACJ,IAAI,CAACa,QAAQ,CAACD,MAAM,CAClC,SAACE,OAAO,QAAKA,QAAO,CAACL,GAAG,GAAKF,OAAO,GACrC,EACF,CACDN,OAAO,CAAE,KAAK,GAElB,QACE,MAAOG,MAAK,CAAC,CAEnB,CACA,cAAeD,YAAW"},"metadata":{},"sourceType":"module"}